寄存器
========
## 前言
寄存器是cpu的内部构造，主要用于信息的存储；cpu内部还有运算器，负责处理数据；控制器控制其他组件；外部总线连接cpu和各种部件，进行数据传输；内部总线负责cpu各种内部组件的数据处理。寄存器是基于晶体管的，主存是基于电容器的。
主存没有使用晶体管的原因可能如下：
- 寄存器太贵；
- 机器指令中编码了寄存器的编号，如果对更多的寄存器进行寻址，则指令的长度也需要增加；
- 寄存器增加了电路的复杂度；更复杂的电路想要加速会变得更难； 
 
局部性原理增加了使用寄存器后的性能提升；如果我们使用内存数据，其不在寄存器中，我们需要将其先加载到寄存器中才能够使用，这可能会增加性能的损失(增加了一层传递)。
## 通用寄存器
通用寄存器即通常意义上了解的寄存器，本身在代码中可以被替换并且被不同的命令使用。举例：r0, r1, ...(别名：rax, rcx, ...)。
## 其他寄存器
一些寄存器具有特殊的含义，用于存储系统级别的重要信息，因此不能够被OS以外的程序修改。举例：rip，用于存储下一条将要执行的指令的地址；rflags，用于存储各种flags信息；xmm0-xmm15等特殊用途寄存器，专门给浮点数使用的寄存器...
## 系统寄存器
为OS设计，不会为计算保存值，只会保存OS的数据结构所需要的一些信息，与OS与CPU共生，这些寄存器不能够被应用程序所访问。举例：cr0,cr4存储不同的处理器模式以及虚拟内存；cr2,cr3被用来支持虚拟内存；cr8(astpr)调整中断策略；efer是另一个flags寄存器，用来控制处理器模式和扩展；idtr保存了中断描述符的地址；gdtr和ldtr保存了描述符的地址;cs，ds，ss，es，gs，fs叫作段寄存器，用来兼容之前或者是实现特权模式。