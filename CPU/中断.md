# 中断
## 硬中断
1. 硬件设备产生信号之后，传递给中断控制器，中断控制器连接到cpu的某个引脚上，cpu继而到中断控制器上寻找产生中断的设备；操作系统通过do_IRQ函数执行一个与中断相关的所有的中断服务例程;
2. 硬件中断是可以被屏蔽的；通过使用local_irq_disable()以及local_irq_enable()函数可以简单的禁止以及激活当前cpu上的本地中断；

## 可延迟函数(软中断，tasklet,工作队列)
因为一个中断处理程序的几个中断服务例程之间是串行执行的，并且通常在一个中断的处理程序结束前，不应该在出现这个中断；但是有些任务是不紧急的，因此，可以从这些中断服务例程中抽离出来，有助于保持内核的响应时间。
### 软中断
1. 处理软中断使用 do_softirq()；ksoftirqd是内核为每个cpu创建的用于执行软中断的守护进程，大多数情况下，软中断会在irq_exit阶段被执行，在irq_exit阶段没有被处理完的软中断才会被守护进程中继续执行；
2. 软中断的中断号由指令直接指出，无需使用中断控制器，软中断不可屏蔽；
3. 软中断的类型以及管理结构：


### tasklet
1. tasklet建立在HI_SOFTIRQ和TASKLET_SOFTIRQ的两个软中断之上；
2. tasklet不可睡眠；