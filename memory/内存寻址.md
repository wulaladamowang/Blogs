# 内存寻址
## 内存地址
### 分类
1. 逻辑地址
   程序被分为若干个段；每一个逻辑地址都由一个段segment和偏移量displacement组成，偏移量指明了从段开始的地方到实际地址之间的距离；
2. 线性地址(虚拟地址)
   32位无符号整数，用来表示高达4GB的数据；32位并不是一定的，该地址范围的决定因素是cpu的位数；
3. 物理地址
   用于内存芯片级内存单元寻址，从微处理器器的地址引脚发送到内存总线上的电信号相对应；其由32位或者是36位无符号整数表示；
### 转换
![逻辑地址转换](./%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2.png)
#### 硬件中的分段单元
一个逻辑地址由一个段标识符和一个指定段内相对地址的偏移量组成成。段标识符是一个16位长的字段，称之为段选择符，而偏移量是一个32位长的字段；
段标识符放在段寄存器中，与之关联的是不可编程的寄存器，存放段描述符，段描述符是通过段选择符在GDT表或者是LDT表中对应选项中获得的，其在段寄存器变化之后同步变化；
在段标识符中有对应的请求者的特权级RPL，在段描述符中有访问该段需要的cpu的最小的优先级DPL；DPL是和CPL进行对比的，请求者通过中断门等可以提升自己的等级，此时称之为CPL；
#### 分段单元
通过上述的分段单元可以查找对应的线性地址，在GDT表中，用户代码段与数据段，内核代码段与数据段是在固定的位置，其在整个进程切换过程中可能也是不会变化的？用户态或者内核态的所有进程可以使用相同的逻辑地址；